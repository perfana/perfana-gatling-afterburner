<?xml version="1.0" encoding="UTF-8"?>
<configuration>

	<appender name="ELASTIC" class="com.internetitem.logback.elasticsearch.ElasticsearchAppender">
		<url>http://elasticsearch:9200</url>
		<index>spring-boot-app-logs-%{+YYYY.MM.dd}</index>
<!--		<properties>-->
<!--			<property>-->
<!--				<name>host</name>-->
<!--				<value>${HOSTNAME}</value>-->
<!--				<allowEmpty>false</allowEmpty>-->
<!--			</property>-->
<!--			<property>-->
<!--				<name>severity</name>-->
<!--				<value>%level</value>-->
<!--			</property>-->
<!--			<property>-->
<!--				<name>thread</name>-->
<!--				<value>%thread</value>-->
<!--			</property>-->
<!--			<property>-->
<!--				<name>stacktrace</name>-->
<!--				<value>%ex</value>-->
<!--			</property>-->
<!--			<property>-->
<!--				<name>logger</name>-->
<!--				<value>%logger</value>-->
<!--			</property>-->
<!--		</properties>-->
		<headers>
			<header>
				<name>Content-Type</name>
				<value>application/json</value>
			</header>
		</headers>
	</appender>

	<appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
		<encoder>
			<pattern>%date [%-5level] %logger{15} - %msg%n%rEx</pattern>
			<immediateFlush>false</immediateFlush>
		</encoder>
	</appender>

	<!-- Uncomment for logging ALL HTTP request and responses -->
	 	<!--<logger name="io.gatling.http" level="TRACE" />-->
	<!-- Uncomment for logging ONLY FAILED HTTP request and responses -->
<!--	 	<logger name="io.gatling.http" level="DEBUG" />-->
	<logger name="io.gatling.http.engine.response" level="DEBUG" />

	<root level="WARN">
		<appender-ref ref="CONSOLE" />
		<appender-ref ref="ELASTIC" />
	</root>

</configuration>
